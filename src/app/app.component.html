<div fxFlex fxLayout="column" >
  <h1 id="title">Notes</h1>
  <div fxLayout="row wrap">
    <div class="container mat-elevation-z8">
      <table mat-table [dataSource]="userList">
        <ng-container class="col" matColumnDef="Name">
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>
        <ng-container class="col" matColumnDef="Note">
          <td mat-cell *matCellDef="let element"> 
            <Button mat-icon-button (click)="CreateNote(element.name)">
              Add note </Button> 
          </td>
        </ng-container>
        <ng-container class="col" matColumnDef="Show Notes">
            <td mat-cell *matCellDef="let element"> 
              <Button mat-stroked-button (click)="GetNotes(element.name)">
                Show notes</Button> 
            </td>
          </ng-container>
        <ng-container class="col" matColumnDef="Delete">
          <td mat-cell *matCellDef="let element">
            <Button mat-stroked-button (click)="DeleteUser(element.name)">
              Delete </Button> 
          </td>
        </ng-container>
        <tr mat-row *matRowDef="let row; columns: columns;"></tr>
      </table>
      <div>
          <button mat-icon-button *ngIf="noteAdded" (click)="AddNote()">+</button>
          <mat-form-field *ngIf="noteAdded" appearance="fill">
              <mat-label>Enter note ...</mat-label>
              <input matInput min="1" type="string" [(ngModel)]="note" #ctrl="ngModel" required>
          </mat-form-field>
      </div>    
      <mat-card>
        <div  *ngIf="showNotes">
            <table mat-table [dataSource]="noteList">
                <ng-container matColumnDef="content">
                    <th mat-header-cell *matHeaderCellDef>{{user}}'s notes</th>
                    <td mat-cell *matCellDef="let user"> {{user.content}} </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="columnsNotes"></tr>
                <tr mat-row *matRowDef="let myRowData; columns: columnsNotes"></tr>
            </table>
        </div>
    </mat-card>



    <mat-accordion>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Add a new user
              </mat-panel-title>
            </mat-expansion-panel-header>       
            <button mat-icon-button (click)="AddUser()"  matTooltip="Add user" matTooltipPosition="above"> + </button>                   
            <mat-form-field id="naamToevoegen" appearance="fill">
                <mat-label>Fill in your name</mat-label>
                <input matInput min="1" type="string" [(ngModel)]="nameToAdd" #ctrl="ngModel"
                    required >
            </mat-form-field>
        </mat-expansion-panel>
      </mat-accordion>
  </div>
</div>
</div>